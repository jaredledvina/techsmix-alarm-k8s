# Maintainer: Jared Ledvina <jared@techsmix.net>
pkgname=kubelet-techsmix-bin
pkgver=1.14.1
pkgrel=1
pkgdesc="The Kubernetes Node Agent - The node agent of Kubernetes, the container cluster manager"
arch=('aarch64')
url="https://kubernetes.io/"
license=('Apache')
depends=('conntrack-tools'
	 'ebtables'
	 'ethtool'
	 'iproute2'
	 'iptables>=1.4.21'
	 'cni-plugins>=0.7.5'
	 'util-linux'
	 'socat'
	 'util-linux')
provides=("kubelet=$pkgver")
source=("https://dl.k8s.io/v$pkgver/kubernetes-src.tar.gz")
source_aarch64=("https://dl.k8s.io/v$pkgver/kubernetes-node-linux-arm64.tar.gz")
sha512sums=('ef1b4ed78ed92124fbec2b2bf54ba3b293038f9c8f1df3883071ae9430450cab9c02c6111cf171ad8d61a0aef6d236fbb9f0f1526e6c00f0452323e8c7c16305')
sha512sums_aarch64=('dd2544dd9543cb9a556def0116fdccb8b14c0e7ae07debbf10f3b4ac0669a1f38be28327114781157cc9ae06e96140b1a0650eeb707bd883ae3509e0ee873da7')

package() {
	install -Dm755 $srcdir/kubernetes/node/bin/kubelet $pkgdir/bin/kubelet
	install -Dm644 $srcdir/build/debs/kubelet.service $pkgdir/lib/systemd/system/kubelet.service
}
